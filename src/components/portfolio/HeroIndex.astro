---
import Button from "../ui/Button.astro"
import Heading from "../ui/Heading.astro"

const stats = [
    { value: 45, suffix: "+", label: "Proyectos" },
    { value: 3, suffix: "+", label: "Años" },
    { value: 15, suffix: "", label: "Premios" }
];
---

<section id="hero" class="hero-modern min-h-screen relative flex items-center overflow-hidden">
    <div class="absolute inset-0 z-10" />

    <!-- Decorative Elements -->
    <div class="decorative-elements absolute inset-0 z-10">
        <!-- Top row -->
        <div class="element-1 absolute -top-5 -right-5 w-24 h-24 bg-gradient-to-br from-primary-500 to-primary-400 rounded-full opacity-15 animate-float"></div>
        <div class="element-2 absolute top-10 left-1/4 w-16 h-16 bg-gradient-to-br from-primary-400 to-primary-300 rounded-full opacity-10 animate-float animation-delay-1000"></div>
        <div class="element-3 absolute top-20 right-1/4 w-20 h-20 bg-gradient-to-br from-secondary-500 to-secondary-400 rounded-xl opacity-15 animate-float animation-delay-1500"></div>
        <div class="element-4 absolute top-32 left-10 w-12 h-12 bg-gradient-to-br from-accent-400 to-accent-300 rounded-full opacity-10 animate-float animation-delay-2500"></div>

        <!-- Middle row -->
        <div class="element-5 absolute top-1/3 right-1/3 w-14 h-14 bg-gradient-to-br from-primary-500 to-primary-400 rounded-xl opacity-15 animate-float animation-delay-800"></div>
        <div class="element-6 absolute top-1/2 -right-10 w-16 h-16 bg-secondary-500 rounded-full opacity-10 animate-float animation-delay-3000"></div>
        <div class="element-7 absolute top-1/2 left-1/4 w-16 h-16 bg-gradient-to-br from-accent-500 to-accent-400 rounded-full opacity-10 animate-float animation-delay-2200"></div>
        <div class="element-8 absolute top-2/3 right-1/4 w-10 h-10 bg-gradient-to-br from-primary-400 to-primary-300 rounded-full opacity-10 animate-float animation-delay-1200"></div>

        <!-- Bottom row -->
        <div class="element-9 absolute -bottom-8 -left-8 w-20 h-20 bg-gradient-to-br from-accent-500 to-accent-400 rounded-xl opacity-15 animate-float animation-delay-2000 reverse"></div>
        <div class="element-10 absolute bottom-20 right-20 w-16 h-16 bg-gradient-to-br from-secondary-400 to-secondary-300 rounded-full opacity-12 animate-float animation-delay-1800"></div>
        <div class="element-11 absolute bottom-40 left-1/3 w-14 h-14 bg-gradient-to-br from-primary-500 to-primary-400 rounded-xl opacity-10 animate-float animation-delay-2700"></div>
        <div class="element-12 absolute bottom-10 right-1/3 w-12 h-12 bg-gradient-to-br from-accent-400 to-accent-300 rounded-full opacity-15 animate-float animation-delay-1600"></div>
    </div>

    <div class="container mx-auto px-6 relative z-20 h-full flex items-center">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center w-full">
            <!-- Left Content -->
            <div class="hero-content text-dark relative">
                <div class="flex flex-row items-center gap-4">
                    <div class="flex-1">
                        <Heading text="Andry" textGradient="Santana" level={1} />
                    </div>

                    <!-- Main Portrait -->
                    <div class="main-portrait w-32 h-40 sm:w-40 sm:h-48 md:w-60 md:h-72 rounded-3xl overflow-hidden shadow-2xl animate-portrait-float flex-shrink-0">
                        <img
                            src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
                            alt="Andrys Santana"
                            class="w-full h-full object-cover"
                        />
                    </div>
                </div>

                <div class="flex items-center gap-4 mb-8 animate-slide-in-left animation-delay-400">
                    <span class="text-xl uppercase tracking-wide">Arquitecto</span>
                    <div class="w-1 h-1 bg-accent-500 rounded-full" />
                    <span class="text-xl uppercase tracking-wide">Diseñador</span>
                </div>

                <p class="text-xl text-dark mb-12 leading-relaxed max-w-2xl animate-slide-in-left animation-delay-600">
                    Creo espacios que cuentan historias y conectan emociones.
                    Con más de 3 años transformando ideas en realidades arquitectónicas únicas.
                </p>
                <!-- Stats -->
                <div id="stats-container" class="flex gap-8 mb-12 opacity-0 translate-y-5 transition-all duration-700 ease-out">
                    {stats.map((stat, i) => (
                        <div class="text-center" key={i}>
                            <div
                                class="text-3xl font-black text-yellow-500"
                                data-target={stat.value}
                            >0</div>
                            <div class="text-sm text-dark uppercase tracking-wide font-medium">{stat.label}</div>
                        </div>
                    ))}
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 animate-slide-in-up animation-delay-100">
                    <Button
                        text="Ver mis Proyectos"
                        variant="primary"
                        iconName="portfolio/Proyecto"
                        animatedBorder="true"
                        onClick="scrollToSection('proyecto')"
                    />
                    <Button
                        text="Contactar"
                        variant="primary"
                        iconName="portfolio/Contacto"
                        animatedBorder={true}
                        onClick="scrollToSection('contacto')"
                    />
                </div>
            </div>

            <!-- Right Visual -->
            <div class="hero-visual relative h-96 lg:h-screen flex items-center justify-center">
                <div class="relative w-full max-w-md h-full">
                    <!-- Floating Cards -->
                    <div class="floating-card absolute top-16 -left-8 w-48 bg-white rounded-2xl p-4 shadow-2xl animate-float">
                        <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80"
                             alt="Casa Los Alanis" class="w-full h-28 object-cover rounded-xl mb-3" />
                        <div class="text-center">
                            <div class="font-semibold text-cream-800 text-sm">Casa Los Alanis</div>
                            <div class="text-xs text-cream-600">2023</div>
                        </div>
                    </div>

                    <div class="floating-card absolute bottom-20 -right-8 w-44 bg-white rounded-2xl p-4 shadow-2xl animate-float animation-delay-3000">
                        <img src="https://images.unsplash.com/photo-1600047509358-9dc75507daeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80"
                             alt="Oficinas Bambú" class="w-full h-24 object-cover rounded-xl mb-3" />
                        <div class="text-center">
                            <div class="font-semibold text-cream-800 text-sm">Oficinas Bambú</div>
                            <div class="text-xs text-cream-600">2022</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="scroll-indicator absolute bottom-8 left-1/2 transform translate-x-1/2 flex flex-col items-center cursor-pointer animate-bounce-custom z-30" onclick="scrollToSection('sobre-mi')">
        <div class="mouse-scroll w-6 h-10 border-2 border-white/70 rounded-full relative">
            <div class="scroll-wheel w-1 h-2 bg-white/90 rounded-full absolute top-2 left-1/2 transform translate-x-1/2 animate-scroll-wheel" />
        </div>
        <span class="text-white/80 text-xs uppercase tracking-wide font-medium mt-2">Scroll</span>
    </div>
</section>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const container = document.getElementById("stats-container");

        // Efecto de entrada
        setTimeout(() => {
            container.classList.remove("opacity-0", "translate-y-5");
            container.classList.add("opacity-100", "translate-y-0");
        }, 100);

        // Animación de conteo
        const counters = container.querySelectorAll("[data-target]");
        counters.forEach(counter => {
            const target = +counter.getAttribute("data-target");
            let start = 0;
            const duration = 1300;
            const step = timestamp => {
                if (!counter.startTime) counter.startTime = timestamp;
                const progress = Math.min((timestamp - counter.startTime) / duration, 1);
                counter.textContent = Math.floor(progress * target) + (counter.dataset.suffix || "");
                if (progress < 1) requestAnimationFrame(step);
            };
            requestAnimationFrame(step);
        });
    });
</script>